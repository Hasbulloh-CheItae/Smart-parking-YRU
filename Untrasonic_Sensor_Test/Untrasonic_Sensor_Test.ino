/*
Ultrasonic Sensor:
р╣Вр╕Др╣Йр╕Фр╕Щр╕╡р╣Йр╕Ир╕░р╕кр╣Ир╕Зр╕кр╕▒р╕Нр╕Нр╕▓р╕Ур╕Ир╕▓р╕Бр╕Вр╕▓ trigPin р╣Бр╕ер╕░р╕гр╕▒р╕Ър╕Др╣Ир╕▓р╕Бр╕ер╕▒р╕Ър╕Чр╕╡р╣И echoPin р╣Ар╕Юр╕╖р╣Ир╕нр╕Др╕│р╕Щр╕зр╕Ур╕гр╕░р╕вр╕░р╕Чр╕▓р╕Зр╕Ир╕▓р╕Бр╣Ар╕Лр╕Щр╣Ар╕Лр╕нр╕гр╣М
р╕нр╕▒р╕Ыр╣Вр╕лр╕ер╕Фр╣Вр╕Др╣Йр╕Фр╣Др╕Ыр╕вр╕▒р╕Зр╕Ър╕нр╕гр╣Мр╕Ф Arduino р╣Бр╕ер╣Йр╕зр╣Ар╕Ыр╕┤р╕Ф Serial Monitor р╣Ар╕Юр╕╖р╣Ир╕нр╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Др╣Ир╕▓р╕гр╕░р╕вр╕░р╕Чр╕▓р╕Зр╕Чр╕╡р╣Ир╕нр╣Ир╕▓р╕Щр╣Др╕Фр╣Й! ЁЯЪА

р╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щр╕Вр╕нр╕З Ultrasonic Sensor (р╣Ар╕Кр╣Ир╕Щ HC-SR04)
р╣Ар╕Лр╕Щр╣Ар╕Лр╕нр╕гр╣М Ultrasonic р╣Гр╕Кр╣Йр╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕Вр╕нр╕З р╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕нр╕▒р╕ер╕Хр╕гр╕▓р╣Вр╕Лр╕Щр╕┤р╕Б (Ultrasonic Waves) р╣Ар╕Юр╕╖р╣Ир╕нр╕зр╕▒р╕Фр╕гр╕░р╕вр╕░р╕Чр╕▓р╕Зр╕Вр╕нр╕Зр╕зр╕▒р╕Хр╕Цр╕╕
р╣Вр╕Фр╕вр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕Др╕зр╕▓р╕бр╕Цр╕╡р╣Ир╕кр╕╣р╕Зр╣Бр╕ер╕░р╕Др╕│р╕Щр╕зр╕Ур╣Ар╕зр╕ер╕▓р╕Чр╕╡р╣Ир╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕кр╕░р╕Чр╣Йр╕нр╕Щр╕Бр╕ер╕▒р╕Ър╕бр╕▓р╕вр╕▒р╕Зр╕Хр╕▒р╕зр╣Ар╕Лр╕Щр╣Ар╕Лр╕нр╕гр╣М

ЁЯФз р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Вр╕нр╕З HC-SR04
р╣Ар╕Лр╕Щр╣Ар╕Лр╕нр╕гр╣М HC-SR04 р╕Ыр╕гр╕░р╕Бр╕нр╕Ър╕Фр╣Йр╕зр╕в р╕кр╕нр╕Зр╕кр╣Ир╕зр╕Щр╕лр╕ер╕▒р╕Б:
1.Transmitter (Trig Pin) тЖТ р╕кр╣Ир╕Зр╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕нр╕▒р╕ер╕Хр╕гр╕▓р╣Вр╕Лр╕Щр╕┤р╕Бр╕нр╕нр╕Бр╣Др╕Ы
2.Receiver (Echo Pin) тЖТ р╕гр╕▒р╕Ър╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕Чр╕╡р╣Ир╕кр╕░р╕Чр╣Йр╕нр╕Щр╕Бр╕ер╕▒р╕Ър╕бр╕▓
3.VCC (5V)

тЪЩя╕П р╕Вр╕▒р╣Йр╕Щр╕Хр╕нр╕Щр╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ
1.р╕кр╣Ир╕Зр╕кр╕▒р╕Нр╕Нр╕▓р╕Ур╣Ар╕кр╕╡р╕вр╕З:
-Arduino р╕Ир╕░р╕кр╣Ир╕Зр╕Юр╕▒р╕ер╕кр╣Мр╣Др╕Яр╕Яр╣Йр╕▓ HIGH р╣Др╕Ыр╕Чр╕╡р╣Ир╕Вр╕▓ Trig р╣Ар╕Ыр╣Зр╕Щр╣Ар╕зр╕ер╕▓ 10 р╣Др╕бр╣Вр╕Др╕гр╕зр╕┤р╕Щр╕▓р╕Чр╕╡ (10 ┬╡s)
-р╣Ар╕Лр╕Щр╣Ар╕Лр╕нр╕гр╣Мр╕Ир╕░р╕кр╣Ир╕Зр╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕нр╕▒р╕ер╕Хр╕гр╕▓р╣Вр╕Лр╕Щр╕┤р╕Бр╕нр╕нр╕Бр╣Др╕Ыр╕Чр╕╡р╣Ир╕Др╕зр╕▓р╕бр╕Цр╕╡р╣И 40 kHz

2.р╕гр╕▒р╕Ър╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕кр╕░р╕Чр╣Йр╕нр╕Щр╕Бр╕ер╕▒р╕Ъ
-р╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╣Ар╕Фр╕┤р╕Щр╕Чр╕▓р╕Зр╣Др╕Ыр╕Бр╕гр╕░р╕Чр╕Ър╕зр╕▒р╕Хр╕Цр╕╕р╣Бр╕ер╣Йр╕зр╕кр╕░р╕Чр╣Йр╕нр╕Щр╕Бр╕ер╕▒р╕Ър╕бр╕▓
-р╣Ар╕бр╕╖р╣Ир╕нр╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╕Бр╕ер╕▒р╕Ър╕Цр╕╢р╕Зр╣Ар╕Лр╕Щр╣Ар╕Лр╕нр╕гр╣М р╕Вр╕▓ Echo р╕Ир╕░р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╣Ар╕Ыр╣Зр╕Щ HIGH р╣Бр╕ер╕░р╕Ир╕▒р╕Ър╣Ар╕зр╕ер╕▓р╕Бр╕▓р╕гр╣Ар╕Фр╕┤р╕Щр╕Чр╕▓р╕Зр╕Вр╕нр╕Зр╣Ар╕кр╕╡р╕вр╕З
3.р╕Др╕│р╕Щр╕зр╕Ур╕гр╕░р╕вр╕░р╕Чр╕▓р╕З
р╣Гр╕Кр╣Йр╕кр╕╣р╕Хр╕г:
Distance=Time ├Ч Speed┬аof┬аSound/2
-р╣Вр╕Фр╕вр╕Чр╕╡р╣И Speed of Sound = 343 m/s = 0.034 cm/┬╡s
-р╕лр╕▓р╕гр╕Фр╣Йр╕зр╕в 2 р╣Ар╕Юр╕гр╕▓р╕░р╣Ар╕кр╕╡р╕вр╕Зр╣Ар╕Фр╕┤р╕Щр╕Чр╕▓р╕Зр╣Др╕Ы-р╕Бр╕ер╕▒р╕Ъ

ЁЯЫа р╕Вр╣Йр╕нр╕Ир╕│р╕Бр╕▒р╕Фр╕Вр╕нр╕З Ultrasonic Sensor
-р╕гр╕░р╕вр╕░р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╣Вр╕Фр╕вр╕Чр╕▒р╣Ир╕зр╣Др╕Ыр╕нр╕вр╕╣р╣Ир╕Чр╕╡р╣И 2 cm - 400 cm
-р╕нр╕▓р╕Ир╣Др╕Фр╣Йр╕гр╕▒р╕Ър╕Ьр╕ер╕Бр╕гр╕░р╕Чр╕Ър╕Ир╕▓р╕Б р╕Юр╕╖р╣Йр╕Щр╕Ьр╕┤р╕зр╕Вр╕нр╕Зр╕зр╕▒р╕Хр╕Цр╕╕ (р╕Юр╕╖р╣Йр╕Щр╕Ьр╕┤р╕зр╕Вр╕гр╕╕р╕Вр╕гр╕░р╕нр╕▓р╕Ир╕Чр╕│р╣Гр╕лр╣Йр╣Ар╕кр╕╡р╕вр╕Зр╕кр╕░р╕Чр╣Йр╕нр╕Щр╣Др╕бр╣Ир╕Хр╕гр╕З)
-р╕нр╕╕р╕Ур╕лр╕ар╕╣р╕бр╕┤р╣Бр╕ер╕░р╕Др╕зр╕▓р╕бр╕Кр╕╖р╣Йр╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕бр╕╡р╕Ьр╕ер╕Хр╣Ир╕нр╕Др╕зр╕▓р╕бр╣Ар╕гр╣Зр╕зр╣Ар╕кр╕╡р╕вр╕З

ЁЯУМ р╕кр╕гр╕╕р╕Ы:
Ultrasonic Sensor р╣Гр╕Кр╣Йр╕лр╕ер╕▒р╕Бр╕Бр╕▓р╕гр╕кр╣Ир╕Зр╣Бр╕ер╕░р╕гр╕▒р╕Ър╕Др╕ер╕╖р╣Ир╕Щр╣Ар╕кр╕╡р╕вр╕Зр╣Ар╕Юр╕╖р╣Ир╕нр╕зр╕▒р╕Фр╕гр╕░р╕вр╕░р╕Чр╕▓р╕З р╣Бр╕ер╕░р╣Ар╕лр╕бр╕▓р╕░р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Зр╕▓р╕Щ р╕Хр╕гр╕зр╕Ир╕Ир╕▒р╕Ър╕зр╕▒р╕Хр╕Цр╕╕, р╕лр╕╕р╣Ир╕Щр╕вр╕Щр╕Хр╣Мр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕кр╕┤р╣Ир╕Зр╕Бр╕╡р╕Фр╕Вр╕зр╕▓р╕З, р╣Бр╕ер╕░р╕гр╕░р╕Ър╕Ър╕зр╕▒р╕Фр╕гр╕░р╕Фр╕▒р╕Ър╕Щр╣Йр╕│ р╣Ар╕Ыр╣Зр╕Щр╕Хр╣Йр╕Щ ЁЯЪА
*/
const int trigPin = 33;
const int echoPin = 32;

void setup() {
    Serial.begin(115200); // р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ Serial Monitor
    pinMode(trigPin, OUTPUT);
    pinMode(echoPin, INPUT);
}

void loop() {
    long duration;
    float distance;
    
    // р╕кр╣Ир╕Зр╕кр╕▒р╕Нр╕Нр╕▓р╕У Trigger
    digitalWrite(trigPin, LOW);
    delayMicroseconds(2);
    digitalWrite(trigPin, HIGH);
    delayMicroseconds(10);
    digitalWrite(trigPin, LOW);
    
    // р╕нр╣Ир╕▓р╕Щр╕Др╣Ир╕▓р╕Ир╕▓р╕Б Echo Pin
    duration = pulseIn(echoPin, HIGH);
    
    // р╕Др╕│р╕Щр╕зр╕Ур╕гр╕░р╕вр╕░р╕Чр╕▓р╕З (р╕лр╕Щр╣Ир╕зр╕в: р╣Ар╕Лр╕Щр╕Хр╕┤р╣Ар╕бр╕Хр╕г)
    distance = duration * 0.034 / 2;
    
    // р╣Бр╕кр╕Фр╕Зр╕Ьр╕ер╕Ър╕Щ Serial Monitor
    Serial.print("Distance: ");
    Serial.print(distance);
    Serial.println(" cm");
    
    delay(500); // р╕гр╕н 500ms р╕Бр╣Ир╕нр╕Щр╕зр╕▒р╕Фр╕Др╣Ир╕▓р╣Гр╕лр╕бр╣И
}
